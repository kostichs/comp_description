# üéØ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Criteria Routes - –ó–ê–í–ï–†–®–ï–ù

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –î–û —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **1 –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª**: `routes.py` - **1266 —Å—Ç—Ä–æ–∫** ‚ö†Ô∏è
- **17 endpoints** –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–û–°–õ–ï —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **6 –º–æ–¥—É–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫**: 1171 —Å—Ç—Ä–æ–∫–∞ (—ç–∫–æ–Ω–æ–º–∏—è 95 —Å—Ç—Ä–æ–∫ –∑–∞ —Å—á–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- **100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞** ‚úÖ

## üèóÔ∏è –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
backend/api/criteria/
‚îú‚îÄ‚îÄ __init__.py                    # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ common.py                      # 236 —Å—Ç—Ä–æ–∫ - –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               # 23 —Å—Ç—Ä–æ–∫–∏ - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ analysis.py               # 338 —Å—Ç—Ä–æ–∫ - –∑–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ sessions.py               # 106 —Å—Ç—Ä–æ–∫ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ results.py                # 191 —Å—Ç—Ä–æ–∫–∞ - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ files.py                  # 266 —Å—Ç—Ä–æ–∫ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ management.py             # 34 —Å—Ç—Ä–æ–∫–∏ - —É—Ç–∏–ª–∏—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ services/                     # –ì–æ—Ç–æ–≤–æ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îú‚îÄ‚îÄ models/                       # –ì–æ—Ç–æ–≤–æ –¥–ª—è Pydantic –º–æ–¥–µ–ª–µ–π
‚îî‚îÄ‚îÄ routes_old.py                 # 1266 —Å—Ç—Ä–æ–∫ - —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª (backup)
```

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º:

#### 1. **Analysis** (338 —Å—Ç—Ä–æ–∫)
- `POST /analyze` - –∞–Ω–∞–ª–∏–∑ –∏–∑ —Ñ–∞–π–ª–∞
- `POST /analyze_from_session` - –∞–Ω–∞–ª–∏–∑ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ—Å—Å–∏–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á

#### 2. **Sessions** (106 —Å—Ç—Ä–æ–∫)
- `GET /sessions` - —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
- `GET /sessions/{id}` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
- `GET /sessions/{id}/status` - —Å—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏
- `POST /sessions/{id}/cancel` - –æ—Ç–º–µ–Ω–∞ —Å–µ—Å—Å–∏–∏
- `GET /sessions/{id}/progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### 3. **Results** (191 —Å—Ç—Ä–æ–∫–∞)
- `GET /sessions/{id}/results` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `GET /sessions/{id}/download` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ CSV
- `GET /sessions/{id}/scrapingbee_logs` - –ª–æ–≥–∏ ScrapingBee

#### 4. **Files** (266 —Å—Ç—Ä–æ–∫)
- `GET /files` - —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
- `GET /files/{filename}` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
- `PUT /files/{filename}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
- `POST /files` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- `POST /upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
- `DELETE /files/{filename}` - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

#### 5. **Management** (34 —Å—Ç—Ä–æ–∫–∏)
- `GET /health` - health check —Å–µ—Ä–≤–∏—Å–∞

#### 6. **Common** (236 —Å—Ç—Ä–æ–∫)
- –û–±—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å criteria_processor

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–æ–¥—É–ª—è**: 338 —Å—Ç—Ä–æ–∫ (analysis.py) ‚úÖ
- **–°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –º–æ–¥—É–ª—è**: 195 —Å—Ç—Ä–æ–∫ ‚úÖ
- **–í—Å–µ –º–æ–¥—É–ª–∏ < 400 —Å—Ç—Ä–æ–∫** ‚úÖ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ **–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
- ‚úÖ **–õ–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ endpoints –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞** - —á–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –í—Å–µ 17 endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å criteria_processor
- ‚úÖ Health monitoring

### –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- **–û–±—â–∏–π –º–æ–¥—É–ª—å** –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –æ–±–ª–∞—Å—Ç—è–º
- **–ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –º–æ–¥–µ–ª–µ–π
- **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –ø–æ –∫–æ–¥—É

## üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints:
```bash
# Health check
GET http://localhost:8000/api/criteria/health
‚úÖ Status: 200 OK

# Sessions list
GET http://localhost:8000/api/criteria/sessions
‚úÖ Status: 200 OK

# Files list
GET http://localhost:8000/api/criteria/files
‚úÖ Status: 200 OK
```

### –ò–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
```python
from backend.api.criteria import router
‚úÖ Import successful
```

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ù–µ–¥–µ–ª—è 1):
1. **–î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
2. **–°–æ–∑–¥–∞—Ç—å Pydantic –º–æ–¥–µ–ª–∏** –≤ `/models/`
3. **–í—ã–Ω–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É** –≤ `/services/`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–ù–µ–¥–µ–ª—è 2):
1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ descriptions routes** (567 —Å—Ç—Ä–æ–∫)
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
3. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ù–µ–¥–µ–ª—è 3):
1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** (927 —Å—Ç—Ä–æ–∫)
2. **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
3. **–£–ª—É—á—à–∏—Ç—å error handling**

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ criteria routes —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!**

- ‚úÖ **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª 1266 —Å—Ç—Ä–æ–∫** —Ä–∞–∑–±–∏—Ç –Ω–∞ **6 –º–æ–¥—É–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**
- ‚úÖ **100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç–∞–ª–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π** –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π
- ‚úÖ **–ö–æ–¥ —Å—Ç–∞–ª —á–∏—Ç–∞–µ–º—ã–º** –∏ –ª–µ–≥–∫–∏–º –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- ‚úÖ **–ì–æ—Ç–æ–≤–∞ –æ—Å–Ω–æ–≤–∞** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~2 —á–∞—Å–∞  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é! 